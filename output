===========================================================================================================================================
                                                             Table of Contents                                                             
===========================================================================================================================================

Document 1 ........................................................................................................ File name: recipes.xlsx
Section 1.1 ................................................................................................................... Ingredients
Section 1.2 .................................................................................................................. Instructions
Document 2 .................................................................... OMO-2094 - Review and Update the Kafka Consumer Lag for OLM
Document 3 ........................................................... OMO-1986 - Spike: PAYPAL order return failure - partial cancellation
Document 4 ................................................................................................ OMO-1968 - Ship to Home Phase 0
Section 4.1 ................................... OMO-2135 - EFC ACL to determines shipment origin system and route accordingly to nOLM \OMSe
Section 4.2 .................................................................................. OMO-2134 - Simplifying Ship to Home Workflow
Section 4.3 ........................................................... OMO-2125 - Investigate EFC6 S2H Shipment Delayed Email Integration 
Section 4.4 ............................................................................... OMO-2077 - Order Router - Retry flow processing
Section 4.5 .................................................................... OMO-2069 - Order Router Metrics Dashboard for Ship to Home
Section 4.6 .............................................................................. OMO-2068 - Implementing Logging for Order Router
Section 4.7 .......................................................................... OMO-2066 - How to split SF as separate microservices
Section 4.8 ................................. OMO-2065 - Checkout JSON->XML: Understand the possibly dynamic aspects of the conversion code
Section 4.9 ............................................................................. OMO-2063 - Kafka Message Handling in Order Router
Section 4.10 ............................................................... OMO-2054 - Design Approach for Order Comparison in OMS and OLM
Section 4.11 .......................................................... OMO-1988 - Convert Checkout's Order JSON to Existing MQ's Order XML
Section 4.12 ................................................ OMO-1982 - Validate Order Consistency Between New Kafka Topic and Existing MQ
Section 4.13 ............................................................ OMO-1981 - Develop Microservice for Post-Checkout Order Filtering
Section 4.14 ................................................. OMO-1980 - Connect to Checkout's Existing Kafka Topic and Analyze Order Data
Section 4.15 ................................................................... OMO-1976 - nOLM's Role in Setting Estimated Shipment Dates
Section 4.16 ............................................................. OMO-1975 - Optimal Approach for Demand Updates Post-Cancellation
Section 4.17 ...................................... OMO-1973 - Investigating Trigger Events for Shipment Delays Email Notifications in nOLM
Section 4.18 .......................................................... OMO-1971 - Optimizing nOLM Email Notifications for 'Shipped' Status
Section 4.19 ....................................... OMO-850 - Learn about Current Customer Comm. for Pack Slip Email (n/a for BOPUS today)
Document 5 ................................................................................................ OMO-1969 - Ship to Home Phase 1
Section 5.1 .............................................................................. OMO-2056 -  Playbook Creation for Phase 1 Launch
Section 5.2 ........................................................................... OMO-1993 - Back-Out Plan for Post-Checkout Failures
Section 5.3 ........................................................................... OMO-1992 - Post Checkout Dashboard with Key Metrics
Section 5.4 ......................................................................................... OMO-1991 - Kafka to MQ Order Handling
Document 6 ................................................................................................ OMO-1970 - Ship to Home Phase 2
Section 6.1 ............................................................. OMO-2071 - OLM Sourcing Facade Metrics Dashboard for Ship to Home
Section 6.2 ....................................................................... OMO-2070 - Implementing Logging for OLM Sourcing Facade
Section 6.3 ..................................................................... OMO-1997 - OLM Sourcing Facade Dashboard with Key Metrics
Section 6.4 ................................................................ OMO-1996 - Order Comparison for Sourcing Facade and Request MQ
Section 6.5 ................................................. OMO-1995 - OLM Sourcing Facade Collaboration with Promising and Sourcing Team
Document 7 ................................................................................................ OMO-1972 - Ship to Home Phase 3
Section 7.1 ......................................................................... OMO-2005 - Adding MongoDB for Sourcing Data in Facade
Section 7.2 .......................................................................... OMO-2004 - Kafka Response Topic and Lag on Dashboard
Section 7.3 ...................................................................................... OMO-2003 - Load Test for Sourcing Facade
Section 7.4 ......................................................................................... OMO-2002 - OMS Shift from MQ to Kafka
Section 7.5 ........................................................................... OMO-2001 - Facade-to-OMS Response Routing via Kafka
Section 7.6 ................................................................... OMO-2000 - OLM Facade Handling MQ Responses and Kafka Topic
Section 7.7 ..................................................................... OMO-1999 - OLM Sourcing Facade integration with MQ Topics
Section 7.8 .................................................................. OLM-1384 - Referencing ShipNode in existing OMS for Sourcing
Document 8 ................................................................................................ OMO-1974 - Ship to Home Phase 4
Section 8.1 ............................................... OMO-2079 - Discuss Modernization Efforts of the PackSlip Email Trigger Endpoint
Section 8.2 ....................................................................... OMO-2078 - Understand Packslip View and Email Endpoints
Section 8.3 .................................................................. OMO-2055 - Ensuring Effective Throttling in the Order Router
Section 8.4 ............................................................... OMO-2024 - OLM Sourcing Response Verification in Mongo Database
Section 8.5 ..................................................................... OMO-2023 - E2E Testing for Post Checkout and OLM Workflow
Section 8.6 ......................................................... OMO-2021 - Detailed Validation for Order and Shipment Creation in OLM
Section 8.7 ................................................................ OMO-2020 - Post Checkout Order Filtering to Create Order Topic
Section 8.8 ................................................................. OMO-2018 - Update Post Checkout with Order Throttling Feature
Section 8.9 .................................................................. OMO-2017 - Integration of Post Checkout with Sourcing Facade
Section 8.10 ....................................................... OMO-1467 - Write Message to legacy Cancel MQ for Stores when S2H Ships
Section 8.11 ................................. OMO-1372 - OLM Gateway OTS Order Detail Endpoint - Decrypt ShipTo encrypted values from nOLM
Document 9 ................................................................................................ OMO-2008 - Ship to Home Phase 5
Section 9.1 ...................................................................... OMO-2148 - OverallTotals tracking Shipping costs for S2H
Section 9.2 ................................................ OMO-2146 - EFC ACL: consume messages from new topic 'OLM_EFC_SHIPMENT_CREATED'
Section 9.3 .......................................... OMO-2145 - Publish message created from OMO-2144 to topic 'OLM_EFC_SHIPMENT_CREATED'
Section 9.4 ............................... OMO-2144 - Store Fulfillment: upon Shipment Creation, create new EFC Shipment object and log it
Section 9.5 ........................................... OMO-2143 - Create new Kafka topic 'OLM_EFC_SHIPMENT_CREATED' in Review/Staging/Prod
Section 9.6 ............................................................ OMO-2141 - Investigate changes to SOS for s2h shipments and orders
Section 9.7 ............................................................ OMO-2140 - Investigate changes to EDA for s2h shipments and orders
Section 9.8 .......................................................... OMO-2139 - Add filtering to BOPUS APIs to only allow BOPUS shipments
Section 9.9 ................................................................................... OMO-2138 - REST endpoints for S2H emails - 
Section 9.10 ................................................................ OMO-2137 - Enable EFC6 Shipment Creation in Store Fulfillment
Section 9.11 ................................................ OMO-2136 - S2H orders - shipment status change based on shipment confirmation
Section 9.12 ........................................................... OMO-2133 - Shipment cancellation request from EFC 6 for S2H orders
Section 9.13 ............................................................ OMO-2132 - Update shipment with container details for  S2H orders
Section 9.14 ........................................... OMO-2131 - Usage of ExtnIsShipAlone indicator in shipment confirmation api request
Section 9.15 .. OMO-2130 - Investigate if current message OLM sends to GIV for demand/supply for Created status will work for EFC shipments
Section 9.16 ............................................................................... OMO-2128 - Exploring Shipment Creation for S2H
Section 9.17 ............................................................................. OMO-2124 - Investigate Shipment Confirmation API
Section 9.18 .................................................................................. OMO-2123 - Create empty EFC ACL application
Section 9.19 ................................................ OMO-2122 - Get EFC6 Kafka Connection Details for all Appropriate Environments
Section 9.20 ........................................ OMO-2121 - Decide Kafka topic and format EFC ACL will consume from for EFC processing
Section 9.21 .................................................................... OMO-2117 - Investigate Red/Yellow fields for EFC6 Mapping
Section 9.22 ...................................................................... OMO-2107 - Understand the message that goes to all EFCs
Section 9.23 ............................................ OMO-2091 - Understand changes to populating OverallTotals for Ship To Home orders
Section 9.24 .......................................................... OMO-2088 - Understanding Mapping for EFC6 with Customer Fulfillment
Section 9.25 .............................................................. OMO-2062 - Research Existing Checkout team integration with TVS
Section 9.26 ........................................................................... OMO-2053 - Handling Earned KC Values in S2H Orders
Section 9.27 ............................................................................... OMO-2048 - Integrate with Other EFCs (Phase X)
Section 9.28 ............................................. OMO-2047 - Develop Scheduler for Auto-Cancelling Orders with Delayed EFC Updates
Section 9.29 ........................................... OMO-2046 - Identifying Automatic Order Cancellation After Delayed Updates from EFC
Section 9.30 ........................................................... OMO-2045 - Enhance Cancel Shipment Processor for EFC Confirmations
Section 9.31 .............................................................................. OMO-2043 - XML Converter Update for EFC6 Orders
Section 9.32 ....................................................................... OMO-2042 - VGC Activator Review for EFC6 Compatibility
Section 9.33 .............................................................................. OMO-2041 - Enhancing Store Fulfillment for EFC6
Section 9.34 .......................................................................... OMO-2040 - Store Commerce Proxy Adaptation for EFC6
Section 9.35 ............................................................................ OMO-2039 - Store Commerce ACL Alignment with EFC6
Section 9.36 .................................................................... OMO-2038 - Shipment Fulfillment Processor Update for EFC6
Section 9.37 .............................................................................. OMO-2037 - Order Create Process Review for EFC6
Section 9.38 .............................................................................. OMO-2036 - Updating OLM Payment Cancel for EFC6
Section 9.39 ............................................................................... OMO-2035 - OLM Gateway Compatibility with EFC6
Section 9.40 .................................................................................. OMO-2034 - Adapting Invoice for EFC6 Orders
Section 9.41 ................................................................... OMO-2033 - Tailoring Hard Totals for EFC6 Order Processing
Section 9.42 ...................................................................... OMO-2032 - Checking Expire Shipment Processor with EFC6
Section 9.43 ..................................................................... OMO-2031 - Error Reprocessor's Readiness for EFC6 Orders
Section 9.44 ....................................................... OMO-2030 - Error Consumer Effectiveness in EFC6-Integrated Environment
Section 9.45 .................................................... OMO-2029 - Customer Notification Compatibility with EFC6 Order Processing
Section 9.46 ...................................................... OMO-2028 - Alignment of Cancel Shipment Processor with EFC6 Fulfillment
Section 9.47 ............................................................................................. OMO-2027 - Integration with EFC6
Section 9.48 .................................................................. OMO-1989 - Assess Feasibility of 30-Min Grace Period in OLM


=====================================================================
Document 1: File name: recipes.xlsx
=====================================================================
- Introduction:
This is an excel document converted to csv.

keywords are: workbook, lib, src, test, resources, recipes, xlsx

- Description
The following worksheets are sub sections below:

- Section 1.1: Ingredients

- Introduction:
This is a worksheet of workbook recipes.xlsx

keywords are: Unit, Item, worksheet, recipes.xlsx

- Description
"Unit","Item"
"1 cup","butter"
"2 tsp","salt"
"1 tbsp","pepper"
"16 oz","ribeye"


- Section 1.2: Instructions

- Introduction:
This is a worksheet of workbook recipes.xlsx

keywords are: Step, Task, worksheet, recipes.xlsx

- Description
"Step","Task"
"1.0","Melt butter in a sauce pan"
"2.0","Clean steak under lukewarm water"
"3.0","Dry steak thoroughly"
"4.0","sprinkle salt and pepper evenly on both sides of steak"
"5.0","fry steak on each side for 4 mins"
"6.0","transfer oven safe sauce pan to oven until desire internal temperature met"


=====================================================================
Document 2: OMO-2094 - Review and Update the Kafka Consumer Lag for OLM
=====================================================================
- Introduction:
keywords are: story, OMO-2094

- Description
*As* an engineer
*I want to* review and update the Dynatrace monitoring for OLM's kafka consumer lag
*So* that there is monitoring for all of OLM's kafka topics

*Acceptance Criteria*:
* review the current DT monitoring for OLM's kafka topics
** ensure all kafka topics has monitoring for consumer lag
* work with OLM team to obtain all of OLM's kafka topics


=====================================================================
Document 3: OMO-1986 - Spike: PAYPAL order return failure - partial cancellation
=====================================================================
- Introduction:
keywords are: spike, OMO-1986

- Description
*As* an OLM engineer
*I want* to research why partially cancelled PAYPAL orders can't be returned
*Because we* need the amounts that are sent to KPP to be correct to work through return services (invoices loaded to the Return Service DB and numbers are correct)

This spike is ready for acceptance when:
 * We know the solution to return partially cancelled PAYPAL orders. 
 * We know the solution to return partially cancelled PAYPAL + KC orders
 * Create Jira to implement those

Notes:
 * [https://confluence.kohls.com:8443/display/OE/OMO-1961+Research+the+Cause+of+Paypal+Orders+Not+Appearing+in+the+Return+Service]


=====================================================================
Document 4: OMO-1968 - Ship to Home Phase 0
=====================================================================
- Introduction:
Able to validate the performance of adding the post checkout filtering

keywords are: parent, epic, OMO-1968, Ship to Home Phase 0

- Description
As OLM,

I want to be able to validate the performance of adding the post checkout filtering,

So that we could use this new service to filter orders to OLM.

 

Link to the STH Miro Board: https://miro.com/app/board/uXjVNPa9pHc=/

- Section 4.1: OMO-2135 - EFC ACL to determines shipment origin system and route accordingly to nOLM \OMSe

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-2135, Ship to Home Phase 0

- Description
*As the* ACL that receives EFC request
*I want to* investigate options to determine whether shipment in request belongs to nOLM or OMSe
*Because* based on that we need to route shipment confirmation/cancellation request to respective systems

*This spike is ready for acceptance when:*
 # *We analyze* the shipment confirmation request and determine how to determine order origin system
 # *We analyze* the shipment cancellation request and determine how to determine order origin system
 # Create stories to implement those findings (including the creation of the API on the EFC ACL).

*Notes & Assumptions:*
 * Requests- [https://confluence.kohls.com:8443/display/OE/OMO-2124+-+Investigate+Shipment+Confirmation+API]
 * Order-no and shipment no are two candidates to look at

- Section 4.2: OMO-2134 - Simplifying Ship to Home Workflow

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-2134, Ship to Home Phase 0

- Description
*As an* OLM team member,

*I want to* create straightforward flows for each Ship to Home phase,

*So that* all team members, including those from non-technical backgrounds, can easily understand and manage the steps involved in the process.

{*}Acceptance Criteria{*}:
 # 
 ## Each phase of the Ship to Home process is described in simple, clear language.
 ## The flows are engaging, informative, and accessible to everyone.
 ## Emphasis on key steps and decision-making points in a user-friendly swim lane format.
 ## They should serve as stable references for managing the process, less susceptible to frequent changes compared to other design diagrams.

{*}Note{*}:
 * This approach aims to simplify the management of the Ship to Home phases, providing more stability and clarity than more complex and frequently changing design diagrams​​.

- Section 4.3: OMO-2125 - Investigate EFC6 S2H Shipment Delayed Email Integration 

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-2125, Ship to Home Phase 0

- Description
*As* the OLM team
*I want to* understand the flow of a Shipment Delay email from an EFC.
*Because* we want to provide Shipment Delayed emails for S2H as a new feature.

*This spike is ready for acceptance when:*
 # We have clarity on how/when EFCs send Shipment Delay notifications
 ## Specifically EFC6
 # Propose a design for OLM to integrate with EFC Shipment Delay Notifications and send a Shipment Delayed email.
 # Create Stories to implement the design

*Notes & Assumptions:*
 * Prior research done on Shipment Delayed emails [https://confluence.kohls.com:8443/display/OE/OMO-1973%3A+Investigating+Trigger+Events+for+Delayed+Email+Notifications+in+nOLM]
 * EFC sided delays were chosen over Carrier Delays due to inconsistencies between carrier notifications. 

- Section 4.4: OMO-2077 - Order Router - Retry flow processing

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-2077, Ship to Home Phase 0

- Description
*As* the OLM Router
*I want to* publish to OLM_ERROR topic on processing errors
*So that* order gets processed through existing retry flow.

 

*Acceptance Criteria:*
 * When service consumes invalid json ,json gets stored in error-detail collection marked as false for retry.

*Note:*
 * Invoice service is a good example for reference.

- Section 4.5: OMO-2069 - Order Router Metrics Dashboard for Ship to Home

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-2069, Ship to Home Phase 0

- Description
*As the* Order Router system,
*I want to* create a dashboard showing key performance metrics for Ship to Home orders,
*So that* we can monitor and improve system performance.

*Acceptance Criteria:*
*Given* the Order Router is processing Ship to Home orders,
*When* checking the dashboard,
*Then* it should display important metrics like processing times and error rates.

- Section 4.6: OMO-2068 - Implementing Logging for Order Router

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-2068, Ship to Home Phase 0

- Description
*As the* Order Router system{*},{*}
*I want to* implement logging with relevant information for troubleshooting,
*So that* errors during the Ship to Home process can be quickly identified and resolved.

*Acceptance Criteria:*
*Given* an error occurs in the Ship to Home process,
*When* the Order Router processes the order,
*Then* logs should capture detailed error information and relevant data for resolution.

*Notes:*
 * Emphasize capturing key data points help in diagnosing and solving issues.

- Section 4.7: OMO-2066 - How to split SF as separate microservices

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-2066, Ship to Home Phase 0

- Description
*As* an OLM engineer
*I want to* research how to split the Store Fulfillment app into separate apps
*Because we* want to prepare Store Fulfillment to support S2H

This spike is ready for acceptance when:
* document an approach on how to split the Store Fulfillment into separate apps
** API vs kafka consumer
** ideally each app should be responsible for one major task
* discuss with team on the design approach
* create stories to implement the changes
* reference OMO-1825

- Section 4.8: OMO-2065 - Checkout JSON->XML: Understand the possibly dynamic aspects of the conversion code

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-2065, Ship to Home Phase 0

- Description
*As* OLM
*I want to* understand the possibly dynamic aspects of Checkout's conversion code
*Because* anything dynamic might impact the conversion approach

*This spike is ready for acceptance when:*
 # We have clarity on any aspect of the conversion code that could be dynamic
 ## Examples:
 ### BossSwitchUtil (Spring Bean)
 ### OrderManager (Spring Bean)
 ### CartUtil (Spring Bean)
 ### OMSXmlConfiguration (part of JSON model, also a Spring Bean)
 #### Pulls values from a config file
 ### Anything else you can find that might be dynamic
 # If there are dynamic aspects of the conversion, conduct analysis on what we should do or how that changes things.
 # We have a page in confluence to document our findings and analysis
 # If needed, we have new spikes & stories written based on the findings

*Notes & Assumptions:*
 * Access to Checkout code (and relevant class) can be found here:
 ** [https://confluence.kohls.com:8443/display/OE/OMS-1980+Analyze+Checkout%27s+Order+Data]
 * You probably need to connect with a Checkout engineer to help answer some of these questions
 ** Chinmaya Kumar Swain (Staff Eng)
 ** Tarun Agarwal (Eng Manager)
 ** Maybe others ... ?

- Section 4.9: OMO-2063 - Kafka Message Handling in Order Router

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-2063, Ship to Home Phase 0

- Description
*As* the Order Router system,
*I want to* investigate the message handling from the new Kafka Topic (order-asynch-topic)
*Because* we need to resolve issues with the auto-commit flag causing duplicate messages when off and no consumption when on.

*Acceptance Criteria:*
 # Understand the cause of duplicate messages with auto-commit off.
 # Determine why turning auto-commit on stops message consumption.
 # Develop a strategy for accurate message handling.

*Notes:*
 * Focus on practical and reliable solutions.
 * Document all findings.

- Section 4.10: OMO-2054 - Design Approach for Order Comparison in OMS and OLM

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-2054, Ship to Home Phase 0

- Description
*As the* OLM Development Team,
*I want to* investigate design options for comparing orders between OMS and OLM,
*Because* accurate order comparison is essential for our order router to preserve functionality when orders are routed to it from Checkout

*This spike is ready for acceptance when:*
 # *We explore* design options for enabling order comparison through OMSe
 # *We propose* a design for capturing and comparing orders from MQ, considering the constraints in accessing the live OMS database.

*Notes & Assumptions:*
 * Direct querying of the OMS database is currently limited, and may need alternative design approaches.
 ** For instance this data may be available via the Checkout team's DB
 * Consider talking also to SRE teams to see what other capabilities we have for fetching orders from OMS system
 * The spike should result in a clear design proposal documented for future implementation.

- Section 4.11: OMO-1988 - Convert Checkout's Order JSON to Existing MQ's Order XML

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-1988, Ship to Home Phase 0

- Description
*As an OLM Engineer,*

*I want to* convert order data from JSON to XML in Post Checkout,

*So that* when we convert it to Order XML, it is identical to what Checkout is posting on the Existing MQ.

{*}Acceptance Criteria{*}:
 * *Given* order data in JSON format from Checkout's Kafka topic,
 * *When* this data is converted to XML format,
 * *Then* the converted XML order data should be identical to the Order XML posted by Checkout on the Existing MQ.

{*}Notes & Assumptions{*}:
 * Investigate the possibility of reusing or adapting code from Chinmaya on the Checkout team for this conversion.

- Section 4.12: OMO-1982 - Validate Order Consistency Between New Kafka Topic and Existing MQ

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-1982, Ship to Home Phase 0

- Description
*As an* OLM Engineer,
*I want to* implement or perform an order comparison check,
*So that* I can confirm the new Kafka topic is receiving the same orders as the existing MQ.

{*}Acceptance Criteria 1{*}:
 * *Given* orders are published to both the new Kafka topic and existing MQ,
 * *When* these orders are processed,
 * *Then* there should be a match in the order data received in both systems.

{*}Acceptance Criteria 2{*}:
 * *Given* orders are published to both the new Kafka topic and existing MQ,
 * *When* these orders are processed,
 * *Then* orders should be saved to a mongo DB for future auditing purposes.

{*}Notes & Assumptions{*}:
 * Can the OMS passive DB used for comparing the OMS vs OLM (mongo)?
 * Discrepancies, if any, should be logged and investigated.
 * Identify a way to automate the auditing process is in scope.
 * This story is critical for ensuring data integrity and system reliability.
 * Link to the STH Phase 0 Miro: [https://miro.com/app/board/uXjVNPa9pHc=/]

- Section 4.13: OMO-1981 - Develop Microservice for Post-Checkout Order Filtering

- Introduction:
This is a child story of epic OMO-1968, "Ship to Home Phase 0"

keywords are: story, child, OMO-1981, Ship to Home Phase 0

- Description
*As an* OLM Engineer,
*I want to* develop a microservice for post-checkout filtering,
*So that* I can audit and validate orders without impacting existing order flows.

{*}Acceptance Criteria 1{*}:
 * *Given* an order is sent to the new Kafka topic,
 * *When* the a order is pass to the microservice,
 * *Then* it should receive the order without modifying it and the order could be logged.

{*}Notes & Assumptions{*}:
 * The microservice should be capable of handling high throughput.
 * This microservice is for auditing purposes and should not alter the order data.

- Section 4.14: OMO-1980 - Connect to Checkout's Existing Kafka Topic and Analyze Order Data

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-1980, Ship to Home Phase 0

- Description
*As an OLM Engineer,*

*I want to* connect to the existing Kafka topic from the Checkout team,

*So that* I can integrate with the topic and analyze the structure of the order data in JSON format.

{*}Acceptance Criteria{*}:
 * *Given* the existing Kafka topic from the Checkout team,
 * *When* an order is captured,
 * *Then* analyze the data to understand its structure and content.

{*}Notes & Assumptions{*}:
 * The Kafka topic is capturing 100% of post-checkout orders in JSON format.
 * The analysis will focus on understanding the JSON structure so that we can understand what it would take to move it to an identical Order XML that is currently being posted to Existing MQ from Checkout

- Section 4.15: OMO-1976 - nOLM's Role in Setting Estimated Shipment Dates

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-1976, Ship to Home Phase 0

- Description
*As* the nOLM system,

*I want to* understand how the current system determines estimated shipment dates when an order is created,

*Because* this understanding is important to sticking to accurate shipping threshold mapping which comes in from OMSe for delivery.

*This spike is ready for acceptance when:*
 # We have clarity on nOLM's process for assigning shipment dates during order creation by looking at Order XML in order-create
 # We document the procedure and any insights as we lead up to our Phase 4 Scenario

*Notes & Assumptions:*
 * The investigation should consider existing shipping threshold mappings in OMSe
 * Phase 4 Scenario can be used for a context to get insights into this process
 * Relevant Confluence page for this investigation: https://confluence.kohls.com:8443/display/OE/OMO-1976+nOLM%27s+Role+in+Setting+Estimated+Shipment+Dates

- Section 4.16: OMO-1975 - Optimal Approach for Demand Updates Post-Cancellation

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-1975, Ship to Home Phase 0

- Description
*As* the nOLM system,

*I want to* determine whether demand updates following cancellations should be routed through OLM or directly from EFC,

*Because* this will help streamline cancellation handling and inventory accuracy.

*This spike is ready for acceptance when:*
 # We identify the how demand updates should be appropriately handled after cancellations
 # (Optional) We look for opportunities for an efficient pathway f this is feasible
 # Document findings on Confluence.

*Notes & Assumptions:*
 * The decision impacts the accuracy of inventory management
 * We should look at what OMSe is doing today
 * This will involve working with Customer Fulfillment team to understand what is done upon cancellation
 * Relevant Confluence page for this investigation: [insert confluence link].

- Section 4.17: OMO-1973 - Investigating Trigger Events for Shipment Delays Email Notifications in nOLM

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: spike, child, OMO-1973, Ship to Home Phase 0

- Description
*As* the nOLM system,

*I want to* investigate & identify the specific event/condition(s) that triggers shipment delayed email notifications,

*Because* understanding this trigger is important to addressing how to define this new email type, and modernizing customer communication.

*This spike is ready for acceptance when:*
 # Does this email exist in OMSe today?
 # We determine the event or condition(s) that leads to the sending of shipment delayed emails.
 # We document our findings and potential underlying cause that can help us define shipment delayed emails
 # Followup story is create to implement this new email (OOM team)

*Notes & Assumptions:*
 *  The nOLM process with systems like Customer Fulfillment/Carrier services
 * Relevant Confluence page for findings

- Section 4.18: OMO-1971 - Optimizing nOLM Email Notifications for 'Shipped' Status

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: email, spike, child, OMO-1971, Ship to Home Phase 0

- Description
*As* the nOLM system,

*I want to* evaluate the timing mechanism for 'Shipped' status email notifications,

*Because* timely communication is important for accurate customer updates.
h3. This spike is ready for acceptance when:
 # We analyze the current lag between marking a shipment as 'Shipped' and sending the corresponding email.
 # We explore the possibility of syncing with a new carrier feed for real-time shipment status.

h3. Notes & Assumptions:
 * The scope of this spike is for
 ** Ship to home only (fulfill by EFCs) with an expectation to expand into SFSs in the future.
 ** SLSQ Single Shipnode with PayPal orders
 ** New spikes will be created for MLMQ scenarios (depending on the complexity) 
 * Understanding the existing gap in email notification timing is key
 * Technical feasibility and integration with a new carrier feed will be investigated.
 * Relevant insights and findings to be documented on Confluence: [insert confluence link].

- Section 4.19: OMO-850 - Learn about Current Customer Comm. for Pack Slip Email (n/a for BOPUS today)

- Introduction:
This is a child spike of epic OMO-1968, "Ship to Home Phase 0"

keywords are: pickup, email, spike, child, OMO-850, Ship to Home Phase 0

- Description
*WE SHOULD* understand when, why, and what +Customer Communication+ is done today by the legacy solution, and what service it interacts with, during fulfillment, pickup, cancels etc. for BOPUS shipments

*BEFORE* we implement +Customer Communication+ for BOPUS

*BECAUSE* we want to provide similar functionality for BOPUS orders processed by new OLM in the future, to insure +Customer Communication+ is properly triggered during appropriate times, and need a deeper understanding of the current functionality before determining how to approach it for new OLM. This will help us sort out the stories that are needed and reduce the risk of missing something important.

*We will know we are done when ({color:#ff8b00}highlighted in Orange is in scope{color}):*
 * When the current +Customer Communication+ (email and text if it's available and requested by the customer) by the legacy solution throughout order processing for BOPUS shipments is well understood
 ** {color:#172b4d}Ready for Pickup (and text){color}
 ** {color:#172b4d}Ready for Pickup Initial Reminder{color}
 ** {color:#172b4d}Ready for Pickup Final Reminder{color}
 ** {color:#172b4d}Ready for Pickup - APP (Alternate Pickup person emails) {color}
 *** {color:#172b4d}Ready for pickup - APP{color}
 *** {color:#172b4d}Ready for Pickup Initial Reminder - APP{color}
 *** {color:#172b4d}Ready for Pickup Final Reminder - APP{color}
 ** -----------------------------------------------
 ** {color:#ff8b00}Pack Slip email (generated after ready for pickup when you go online to lookup your order and click the button of print pack slip) {color}
 ** -----------------------------------------------
 ** Store Order Complete (aka Customer Picked Up)
 ** Store Order Complete (aka Customer Picked Up) APP (Alternate Pickup person emails)
 ** -----------------------------------------------
 ** Order Cancellation KI
 ** -----------------------------------------------
 ** Order Modification KI Responsive Email (Order Modified email, part of the order was cancelled - not applicable to SLSQ)
 ** -----------------------------------------------
 ** Store Order Delayed Responsive Email (BOPUS order delayed email)
 ** -----------------------------------------------
 ** Ready for Pickup - APP Changed - should be covered within Ready for Pickup (Changes made to the alternate pickup person email)
 ** Ready for Pickup - APP Removed - should be covered within Ready for Pickup (Alternative deleted email - only goes to the customer)
 ** Ready for Pickup - No longer APP - should be covered within Ready for Pickup (Alternative removed - only goes to the alternative)

 * When we clearly understood what services the current solution interacts with to initiate +Customer Communication+ 
 * Document the payload/data that is included when we trigger that email and mapping the source for each attribute
 * Exception handling is well understood
 * All the learnings are documented in a Confluence Page

*Notes/Assumptions:*
 * Wallet and Account own the page that triggers the email, start with them first
 * +Customer Communication+ is required for active mode of our first thin slice
 * We need to develop this in the future but it does not apply to SLSQ or may be owned by the returns team (mapping required)
 ** Order Modification KI Responsive Email
 ** Store Order Customer Cancelled (aka Auto Refund)
 ** Store Order Customer Cancelled (aka Auto Refund) APP

*Reference:*
 * [https://confluence.kohls.com:8443/display/OE/1.1+OMO-28+-+Analysis+and+Design]
 * Transactional Email UAT Spreadsheet (OCF Tab): [https://docs.google.com/spreadsheets/d/1YBuIG2XTguKkmz-gUknz_FM06LGvkT_f-IVwjib04b0/edit#gid=2073458429]
 * Link to an assortment of production email examples: [https://miro.com/app/board/uXjVOU0EyYI=/?moveToWidget=3458764538551545135&cot=14]
 * Link to Customer Comm. BT Transactional Emails list: [https://docs.google.com/spreadsheets/d/159Zo99VUGPTzAdjGS1imvV6h_my2g82Ulff87mBoGzQ/edit#gid=0]



=====================================================================
Document 5: OMO-1969 - Ship to Home Phase 1
=====================================================================
- Introduction:
Able to validate and preserve the existing functionality while using the post checkout filtering

keywords are: parent, epic, OMO-1969, Ship to Home Phase 1

- Description
As OLM,

I want to be able to validate and preserve the existing functionality while using the post checkout filtering micro service,

So that we could use the Post Checkout service to send orders from the new Kafka topic to existing MQ and processed by OMSe.

 

Link to the STH Miro Board: https://miro.com/app/board/uXjVNPa9pHc=/

- Section 5.1: OMO-2056 -  Playbook Creation for Phase 1 Launch

- Introduction:
This is a child story of epic OMO-1969, "Ship to Home Phase 1"

keywords are: story, child, OMO-2056, Ship to Home Phase 1

- Description
*As an* OLM team member,
*I want to* collaborate with SREs to create a playbook,
*So that* we have a clear action plan for the Phase 1 launch.

*Acceptance Criteria 1:*
 * *Given* the upcoming Phase 1 launch,
 * *When* we're putting together the playbook,
 * *Then* it should outline essential steps, responsibilities, and how to handle issues.

*Acceptance Criteria 2:*
 * *Given* the playbook is ready,
 * *When* reviewed by our team and the SREs,
 * *Then* everyone should agree it's complete and useful for Phase 1.

*Notes:*
 * We need this playbook to make sure Phase 1 goes smoothly.
 * It's important to keep the SREs in the loop to make sure we include everything necessary.

- Section 5.2: OMO-1993 - Back-Out Plan for Post-Checkout Failures

- Introduction:
This is a child story of epic OMO-1969, "Ship to Home Phase 1"

keywords are: story, child, OMO-1993, Ship to Home Phase 1

- Description
*As a* Software Engineer

*I want* a simple back-out plan

*So that* we're prepared if the post-checkout service fails.

*Acceptance Criteria 1*
 * *Given* a rollback scenario,
 * *When* executed,
 * *Then* all steps should be documented for review.

*Notes:*
 * We should ensure that rollback scenario allows for transitioning back to the original Existing MQ
 * This may take some coordination with the Checkout team to identify what would need to be done on their side to roll back to the original posting of orders on Existing MQ

 

- Section 5.3: OMO-1992 - Post Checkout Dashboard with Key Metrics

- Introduction:
This is a child story of epic OMO-1969, "Ship to Home Phase 1"

keywords are: story, child, OMO-1992, Ship to Home Phase 1

- Description
*As an* OLM Support Team,

*I want to* create a dashboard for Post Checkout that includes Kafka lag and essential metrics,

*So that* we can effectively monitor its performance.

*Acceptance Criteria 1:*
 * *Given* Post Checkout is active,
 * *When* checking the dashboard,
 * *Then* I should see essential service metrics

*Acceptance Criteria 2:*
 * *Given* Post Checkout is active,
 * *When* checking the health of kafka topic,
 * *Then* I should see kafka lag metrics

*Notes:*
 * Align the dashboard's functionality with the monitoring features of other microservices.

- Section 5.4: OMO-1991 - Kafka to MQ Order Handling

- Introduction:
This is a child story of epic OMO-1969, "Ship to Home Phase 1"

keywords are: story, child, OMO-1991, Ship to Home Phase 1

- Description
*As a* Post Checkout service,

*I want to* send orders from Kafka to MQ and post Order XML to Existing MQ,

*So that* we maintain our current process while adding this new step.

*Acceptance Criteria:*
 * *Given* an order in Kafka,
 * *When* Post Checkout processes it,
 * *Then* the order goes to MQ and its XML to the Existing MQ.

*Notes:*
 * Keep it compatible with our existing system.
 * Testing should check that orders are routed right and existing features work as usual.



=====================================================================
Document 6: OMO-1970 - Ship to Home Phase 2
=====================================================================
- Introduction:
Develop the OLM sourcing Facade to audit and validate the orders against the OMS orders

keywords are: parent, epic, OMO-1970, Ship to Home Phase 2

- Description
As OLM,

I want to introducing the OLM sourcing Facade,

so that we could begin audit and validate the orders against the OMS orders (compare the request to the sourcing; New Kafka vs Existing MQ).

 

Link to the STH Miro Board: [https://miro.com/app/board/uXjVNPa9pHc=/]

- Section 6.1: OMO-2071 - OLM Sourcing Facade Metrics Dashboard for Ship to Home

- Introduction:
This is a child story of epic OMO-1970, "Ship to Home Phase 2"

keywords are: story, child, OMO-2071, Ship to Home Phase 2

- Description
*As the* OLM Sourcing Facade system,
*I want to* create a dashboard showing key performance metrics for sourcing requests and responses,
*So that* we can monitor and improve system performance.

*Acceptance Criteria:*
*Given* the OLM Sourcing Facade is processing sourcing requests and responses,
*When* checking the dashboard,
*Then* it should display important metrics like processing times and error rates.

- Section 6.2: OMO-2070 - Implementing Logging for OLM Sourcing Facade

- Introduction:
This is a child story of epic OMO-1970, "Ship to Home Phase 2"

keywords are: story, child, OMO-2070, Ship to Home Phase 2

- Description
*As the* OLM Sourcing Facade system{*},{*}
*I want to* implement logging with relevant information for troubleshooting,
*So that* errors during the Ship to Home process can be quickly identified and resolved.

*Acceptance Criteria:*
*Given* an error occurs in the Ship to Home process,
*When* the OLM Sourcing Facade processes the sourcing requests and responses,
*Then* logs should capture detailed error information and relevant data for resolution.

*Notes:*
 * Emphasize capturing key data points help in diagnosing and solving issues.

- Section 6.3: OMO-1997 - OLM Sourcing Facade Dashboard with Key Metrics

- Introduction:
This is a child story of epic OMO-1970, "Ship to Home Phase 2"

keywords are: story, child, OMO-1997, Ship to Home Phase 2

- Description
*As an* OLM Support Team,

*I want to* create a dashboard for OLM Sourcing Facade that includes Kafka lag and essential metrics,

*So that* we can effectively monitor its performance.

*Acceptance Criteria 1:*
 * *Given* OLM Sourcing Facade is active,
 * *When* checking the dashboard,
 * *Then* I should see essential service metrics

*Acceptance Criteria 2:*
 * *Given* OLM Sourcing Facade is active,
 * *When* checking the health of kafka topic,
 * *Then* I should see kafka lag metrics

*Notes:*
 * Align the dashboard's functionality with the monitoring features of other microservices.

- Section 6.4: OMO-1996 - Order Comparison for Sourcing Facade and Request MQ

- Introduction:
This is a child story of epic OMO-1970, "Ship to Home Phase 2"

keywords are: story, child, OMO-1996, Ship to Home Phase 2

- Description
*As the* OLM Sourcing Facade,

*I want to* compare orders sent to me (via new Kafka topic) with those in the request MQ sent by OMS,

*So that* we can make sure it is consistent and accurate

*Acceptance Criteria:*
 * *Given* orders are sent to the Sourcing Facade via Kafka Topic and orders sent to request MQ from OMS
 * *When* comparing these orders,
 * *Then* identify any discrepancies and confirm they match up correctly.

*Notes:*
 * Emphasis on accurately matching orders between the new Kafka topic and request MQ.
 * Develop a method to easily spot and resolve differences.

- Section 6.5: OMO-1995 - OLM Sourcing Facade Collaboration with Promising and Sourcing Team

- Introduction:
This is a child story of epic OMO-1970, "Ship to Home Phase 2"

keywords are: story, child, OMO-1995, Ship to Home Phase 2

- Description
*As the* OLM Development Team,

*I want to* work closely with the promising and sourcing team,

*So that* our OLM Sourcing Facade fits well with their system and avoids overlapping work.

*Acceptance Criteria:*
 * *Given* we're building the OLM Sourcing Facade,
 * *When* we tie it into the sourcing process via their ACL,
 * *Then* it should source orders just once and stop OMS from doing it again if it's already been sourced.



=====================================================================
Document 7: OMO-1972 - Ship to Home Phase 3
=====================================================================
- Introduction:
Able to Use the Sourcing Facade in Prod

keywords are: parent, epic, OMO-1972, Ship to Home Phase 3

- Description
As OLM,

I want to be able to use the OLM sourcing Facade,

so that we could begin sourcing orders that was filtered to OMSe from the Post Checkout Service.

 

Link to the Ship to Home Miro Board: https://miro.com/app/board/uXjVNPa9pHc=/

- Section 7.1: OMO-2005 - Adding MongoDB for Sourcing Data in Facade

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2005, Ship to Home Phase 3

- Description
*As the* OLM Sourcing Facade,

*I want to* use MongoDB,

*So that* we persist all our sourcing requests and responses

*Acceptance Criteria:*
 * *Given* we're working with sourcing requests and responses,
 * *When* we receive this data from Sourcing ACL,
 * *Then* it should be reliably stored in MongoDB.

*Notes:*
 * MongoDB will help us prevent resourcing by matching it with sourcing requests which already have been made

- Section 7.2: OMO-2004 - Kafka Response Topic and Lag on Dashboard

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2004, Ship to Home Phase 3

- Description
*As the* OLM Support Team,

*I want to* add the new Kafka response topic and its lag metrics to our Monitoring Dashboard,

*So that* we have insights into its performance.

*Acceptance Criteria:*
 * *Given* the Kafka response topic is active,
 * *When* monitoring the system,
 * *Then* we should see both the topic activity and its lag time on the Dashboard.

- Section 7.3: OMO-2003 - Load Test for Sourcing Facade

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2003, Ship to Home Phase 3

- Description
*As the* OLM Team,

*I want to* run a load test on the Sourcing Facade,

*So that* we know it can handle the busy times.

*Acceptance Criteria:*
 * *Given* the Facade is up,
 * *When* testing how much it can take,
 * *Then* make sure it deals with loads as expected given its STPS (specified transactions per second).

*Notes:*
 * Simulate "real" use to see how it holds up.
 * Identify any weak spots
 * Check it stays steady when it’s really busy.

- Section 7.4: OMO-2002 - OMS Shift from MQ to Kafka

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2002, Ship to Home Phase 3

- Description
*As the* OMS Team working with us,

*I want to* switch OMS from listening to the existing MQ to the new Kafka topics for requests and responses,

*So that* OMS updates to our new communication channels.

*Acceptance Criteria:*
 * *Given* OMS currently uses the existing MQ,
 * *When* changing to listen to Kafka topics,
 * *Then* OMS should stop using MQ and start using Kafka for all incoming and outgoing messages.

*Notes:*
 * The change involves turning off OMS's connection to MQ and activating it in Kafka.

- Section 7.5: OMO-2001 - Facade-to-OMS Response Routing via Kafka

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2001, Ship to Home Phase 3

- Description
*As the* OLM Sourcing Facade,

*I want to* set up a new Kafka response topic,

*So that* responses can be efficiently directed through Kafka to OMS.

*Acceptance Criteria:*
 * *Given* we have responses ready in the Facade,
 * *When* they need to reach OMS,
 * *Then* they should go through the new Kafka topic.

- Section 7.6: OMO-2000 - OLM Facade Handling MQ Responses and Kafka Topic

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-2000, Ship to Home Phase 3

- Description
*As the* OLM Sourcing Facade,

*I want to* listen to responses from MQ and relay them to the New Kafka response topic,

*So that* information flows correctly through our system.

*Acceptance Criteria:*
 * *Given* the OLM Facade is linked to MQ,
 * *When* it receives a response from MQ,
 * *Then* it should forward this response to the New Kafka response topic.

*Notes:*
 * This is about ensuring that the Facade accurately captures and relays MQ responses to Kafka.

- Section 7.7: OMO-1999 - OLM Sourcing Facade integration with MQ Topics

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OMO-1999, Ship to Home Phase 3

- Description
*As the* OLM Sourcing Facade,

*I want to* connect with both the Request and Response MQ,

*So that* our requests and responses are managed efficiently.

*Acceptance Criteria:*
 * *Given* the OLM Sourcing Facade is active,
 * *When* it interacts with MQ,
 * *Then* ensure seamless sending and receiving of data.

*Notes:*
 * These are the existing Request and Response MQ that OMS was using to talk to Sourcing Blackbox.
 * Ensure reliable communication between the Facade and MQ.
 * Thoroughly test the connection for accurate message handling.

- Section 7.8: OLM-1384 - Referencing ShipNode in existing OMS for Sourcing

- Introduction:
This is a child story of epic OMO-1972, "Ship to Home Phase 3"

keywords are: story, child, OLM-1384, Ship to Home Phase 3

- Description
*As* Sterling OMSe system,

*I want to* shipNode value for identify where to source S2H orders,

*So that* we do not make duplicate call to Sourcing engine from Sterling OMSe

*Acceptance Criteria:*
 * *Given* we're working S2H orders,
 * *When* we receive shipNode from filtering ACL in OMSe,
 * *Then* OMSe should not make another sourcing call.

*Notes:*
 * Sourcing response that is required to actually source order to a node can be pulled from sourcing facade or mongo db.
 * If this option does not work then we need to mock sourcing call from OMSe at sourcing faccde to return the response from original sourcing call.



=====================================================================
Document 8: OMO-1974 - Ship to Home Phase 4
=====================================================================
- Introduction:
Able to Throttling Orders at Post Checkout to Create Shipments in OLM

keywords are: parent, epic, OMO-1974, Ship to Home Phase 4

- Description
As OLM,

I want to be able to throttling limited orders at the Post Checkout service,

so that we could begin 
 # Creating shipments in OLM
 # Monitoring performance by processing 10 orders per day

 

Link to the Ship to Home Miro Board: https://miro.com/app/board/uXjVNPa9pHc=/

- Section 8.1: OMO-2079 - Discuss Modernization Efforts of the PackSlip Email Trigger Endpoint

- Introduction:
This is a child spike of epic OMO-1974, "Ship to Home Phase 4"

keywords are: spike, child, OMO-2079, Ship to Home Phase 4

- Description
*As* OLM
*I want to* trigger email communication of the packing slip to the customer using a modern REST endpoint
*Because* we would like to continue modernizing as we add new features

This spike is ready for acceptance when:
 * We have talked with the O&OM (CCS) team about modernizing the Pack Slip trigger endpoint
 ** this will include which fields to keep and remove based on [OMO-850 spreadsheet|https://docs.google.com/spreadsheets/d/17IPdP1l_z9pjjekjf7yf7XRrbyv6MsUefBdz4OClIEA/edit#gid=0]

- Section 8.2: OMO-2078 - Understand Packslip View and Email Endpoints

- Introduction:
This is a child spike of epic OMO-1974, "Ship to Home Phase 4"

keywords are: spike, child, OMO-2078, Ship to Home Phase 4

- Description
*As* a Kohl's customer
*I want to* be able to view my packing slip and email it to myself using nOLM
*Because* it is an important document within the STH flow

This spike is ready for acceptance when:
 * We understand how e-comm communicates to OMS
 ** Endpoints it uses to get pack slip information and triggering the email
 ** Request body and format (SOAP?) - also if there are plans to modernize
 ** Response that is returned by OMS
 * Document these findings in Confluence

- Section 8.3: OMO-2055 - Ensuring Effective Throttling in the Order Router

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2055, Ship to Home Phase 4

- Description
*As the* Order Router,
*I want to* monitor and validate the throttling process,
*So that* we can confirm it's working as intended and understand its impact on order processing.

*Acceptance Criteria 1:*
 * *Given* the Order Router is implementing throttling,
 * *When* orders are being processed,
 * *Then* the system should track and report the number of processed and queued orders each hour to confirm effective throttling.

*Acceptance Criteria 2:*
 * *Given* the monitoring feature is operational,
 * *When* evaluating the system’s performance,
 * *Then* there should be reliable data to show that throttling is correctly managing the order flow.

 

*Notes:*
 * We need this to make sure our system is throttling orders right and not causing problems.

- Section 8.4: OMO-2024 - OLM Sourcing Response Verification in Mongo Database

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2024, Ship to Home Phase 4

- Description
*As* the OLM system,

*I want* to check in the Mongo database for existing sourcing responses,

*So that* I can verify if the response to a sourcing request already exists.

{*}Acceptance Criteria 1{*}:
 * *Given* a sourcing request is made in OLM,
 * *When* checking the Mongo database,
 * *Then* the system should look for any existing responses to that request.

{*}Notes{*}:
 * This check helps avoid duplicate sourcing.
 * Make sure the search in Mongo is accurate.

- Section 8.5: OMO-2023 - E2E Testing for Post Checkout and OLM Workflow

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2023, Ship to Home Phase 4

- Description
*As* the OLM-S2H Testing team,

*I want* a basic end-to-end test for the Post Checkout to OLM process,

*So that* we can make sure orders move correctly from Post Checkout to OLM.

{*}Acceptance Criteria 1{*}:
 * *Given* orders are processed through Post Checkout,
 * *When* they are passed to OLM,
 * *Then* the test should verify that this transition happens smoothly.

{*}Notes{*}:
 * Focus the test on the standard, expected workflow (the "happy path").
 * Ensure the test is simple and covers all essential steps.
 * Regular testing to maintain consistent and reliable order processing.

- Section 8.6: OMO-2021 - Detailed Validation for Order and Shipment Creation in OLM

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2021, Ship to Home Phase 4

- Description
*As* a member of the OLM team,

*I want* to validate the creation of orders and shipments in OLM for orders coming from the Create Order Topic,

*So that* we can ensure that each order and its shipments are created correctly, particularly with the new, more detailed attributes for S2H and fulfillment.

{*}Acceptance Criteria 1{*}:
 * *Given* an order passes through the Create Order Topic and enters OLM,
 * *When* it triggers order and shipment creation,
 * *Then* the system should accurately create the order and all associated shipments.

{*}Acceptance Criteria 2{*}:
 * *Given* an order is being processed in OLM,
 * *When* it's a filtered order from the Create Order Topic,
 * *Then* validate that the order and shipment details are complete and match the expected set of shipments, including the new attributes.

{*}Notes & Assumptions{*}:
 * Emphasize correctness and detail in processing orders and their associated shipments.
 * The new attributes for S2H and fulfillment nodes should be correctly identified and incorporated into the order and shipment details.

- Section 8.7: OMO-2020 - Post Checkout Order Filtering to Create Order Topic

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2020, Ship to Home Phase 4

- Description
*As* the Post Checkout service,

*I want* to filter orders to the Create Order Topic,

*So that* only relevant orders are sent to the existing topic used for BOPUS.

{*}Acceptance Criteria 1{*}:
 * *Given* the filtering mechanism is in place,
 * *When* an order is processed,
 * *Then* it should be checked against BOPUS criteria before being directed to the Create Order Topic.

{*}Notes & Assumptions{*}:
 * Define clear criteria for BOPUS-eligible orders.
 * The filtering process should make sure to prevent any non-BOPUS orders from being sent to the Create Order Topic

- Section 8.8: OMO-2018 - Update Post Checkout with Order Throttling Feature

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2018, Ship to Home Phase 4

- Description
*As* the Post Checkout service,

*I want* to add an order throttling feature,

*So that* the service can limit the rate of sourcing calls to 10 orders per hour.

{*}Acceptance Criteria 1{*}:
 * *Given* orders are being processed by Post Checkout,
 * *When* they are queued for sourcing,
 * *Then* only 10 orders should be sent to the Sourcing Facade per hour.

{*}Acceptance Criteria 2{*}:
 * *Given* the order throttling feature is active,
 * *When* more than 10 orders are processed in an hour,
 * *Then* the excess orders should be queued for the next available time slot.

{*}Notes & Assumptions{*}:
 * The throttling mechanism should be configurable to adapt to future changes in order processing rates.
 * Ensure that the queued orders are processed in a timely manner without data loss.

- Section 8.9: OMO-2017 - Integration of Post Checkout with Sourcing Facade

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-2017, Ship to Home Phase 4

- Description
*As* the Post Checkout service,

*I want* to integrate with the Sourcing Facade service,

*So that* requests and responses can be exchanged between the request and response topics.

{*}Acceptance Criteria 1{*}:
 * *Given* an order is processed by Post Checkout,
 * *When* it interacts with the Sourcing Facade,
 * *Then* the request should be sent accurately to the Sourcing Facade.

{*}Acceptance Criteria 2{*}:
 * *Given* the integration is in place,
 * *When* the Sourcing Facade sends back a response,
 * *Then* Post Checkout should receive and handle it correctly.

{*}Notes & Assumptions{*}:
 * Ensure that the integration facilitates accurate communication between the services.

- Section 8.10: OMO-1467 - Write Message to legacy Cancel MQ for Stores when S2H Ships

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: stores, story, child, OMO-1467, Ship to Home Phase 4

- Description
*As* new OLM

*I want* to inform Stores when a S2H shipment has shipped

*So that* that stores remain in sync, consistent with existing legacy processing

+*Acceptance Criteria 1:*+
 * *Given* an order exists in new OLM with a S2H shipment 
 * *When* the S2H shipment moves to Shipped status
 * *Then* a message is published to the existing IBM MQ (same one used for Cancel messages)  for Stores to consume


+*Notes & Assumptions*+
 * Based off of cancel spike: OMO-1220 and related stories
 * This only applies when in Active mode, no Shipped messages should be published to the queue in Shadow mode
 * MQ is not consumed by stores directly, but a process owned by Fulfillment + Pickup team consumes messages and forwards them on to the appropriate store(s)
 * MQ should eventually replaced by Kafka or another solution, but while orders are still being processed by the legacy solution the Fulfillment + Pickup team does not want to change their processing to receive messages 2 different ways in the interim.
* Todd Miesfeld from Fulfillment + Pickup team told us about this Shipped status message for S2H while we were validating our first BOPUS thin slice;  this story was created to help us remember.

- Section 8.11: OMO-1372 - OLM Gateway OTS Order Detail Endpoint - Decrypt ShipTo encrypted values from nOLM

- Introduction:
This is a child story of epic OMO-1974, "Ship to Home Phase 4"

keywords are: story, child, OMO-1372, Ship to Home Phase 4

- Description
*As* OLM Gateway
*I want* nOLM OTS order-details response data that is specific to ship to home to be in readable format and add Protegrity 9 
*So that* it is consistent with the legacy data already in this table 

*Acceptance Criteria 1:*
 * Decrypt all encrypted values and provide those on nOLM OTS order-details response.

personInfoShipTo.firstName
personInfoShipTo.lastName

+*Notes & Assumptions*+
* These were removed from OMO-1319, which decrypted values applicable to BOPUS orders;  creating this story now to help us remember to come back to it for the first S2H thin slice we take up 
 * [https://miro.com/app/board/uXjVOU0EyYI=/?moveToWidget=3458764541855300275&cot=14] - Order Visibility design
 *  https://confluence.kohls.com:8443/display/OE/Protegrity+v9+Installation



=====================================================================
Document 9: OMO-2008 - Ship to Home Phase 5
=====================================================================
- Introduction:
Able to Fulfill STH SLSQ orders at EFC6

keywords are: parent, epic, OMO-2008, Ship to Home Phase 5

- Description
As OLM,

I want to be able to process and fulfill orders at EFC6 by using the Post Checkout service and the sourcing facade,

so that we could begin 
 # Using OLM to fulfill limited orders (10?) from EFC6 (re-visit all the nOLM microservices)
 # Able to use OLM to cancel (no re-sourcing and customer impact is limited)

 

Link to the Ship to Home Miro Board: [https://miro.com/app/board/uXjVNPa9pHc=/]

- Section 9.1: OMO-2148 - OverallTotals tracking Shipping costs for S2H

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: charges, story, child, OMO-2148, Ship to Home Phase 5

- Description
*As* the Order-Create service
*I want to* implement the tracking/totals for Shipping charges in a given Order's OverallTotals
*So that* OLM is able to provide accurate totals for S2H orders.

*Acceptance Criteria 1:*
 * *Given* a S2H order
 * *When* the line charges are processed
 * *Then* we want to keep a running total for shipping charges to be accurate
 ** totalShipAmount, totalShippingCharges, totalShippingSurcharge, 
grandShippingTotals

*Acceptance Criteria 2:*
 * *Given* a S2H order
 * *When* the line charges are processed and *OverallChargeTotals* are created
 * *Then* we want to identify a OverallChargeTotal is a shipping charge by setting the field isShippingCharge to be *TRUE (Y)* when charges are for shipping and *FALSE (N)* otherwise.

*Acceptance Criteria 3:*
 * *Given* a S2H order
 * *When* the shipping charges are added to OverallTotals of the order
 * *Then* we want to verify all the charges including the Shipping costs are correct.
 ** Making sure all the math/numbers are correct for any given S2H order.

*Notes & Assumptions:*
 * grandShippingTotals is already being added to the grandTotal.
 * The totals are basically just adding up all the line charges that are "Shipping" charges throughout all the orderLines.
 * Most of the changes will occur in OrderServiceImpl.java of Order-Create.
 * Example XML in the comments.

- Section 9.2: OMO-2146 - EFC ACL: consume messages from new topic 'OLM_EFC_SHIPMENT_CREATED'

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2146, Ship to Home Phase 5

- Description
*As* EFC ACL
*I want to* consume messages from new topic 'OLM_EFC_SHIPMENT_CREATED'
*So that* the EFC ACL can process them and communicate with the EFCs

*Acceptance Criteria 1:*
 * *When* a message is published to topic 'OLM_EFC_SHIPMENT_CREATED'
 * *Then* EFC ACL should be able to consume from that topic with all of it's fields

*Notes & Assumptions:*
 * Relevant Confluence Page:
 ** [https://confluence.kohls.com:8443/display/OE/OMO-2121%3A+Decide+Kafka+topic+and+format+EFC+ACL+will+consume+from+for+EFC+processing] 
 ** Json structure can be found here
 * Original Spike:
 ** https://jiradc.kohls.com:8443/browse/OMO-2121

- Section 9.3: OMO-2145 - Publish message created from OMO-2144 to topic 'OLM_EFC_SHIPMENT_CREATED'

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2145, Ship to Home Phase 5

- Description
*As* Store Fulfillment
*I want to* publish message created from OMO-2144 to topic 'OLM_EFC_SHIPMENT_CREATED'
 * *And* remove testing log from OMO-2144

*So that* the EFC ACL can consume it and pass it on to the EFCs

*Acceptance Criteria 1:*
 * *When* the JSON object is created from OMO-2144
 * *Then* we want to publish it to 'OLM_EFC_SHIPMENT_CREATED'
 ** *And* we +DO NOT+ want to see a log of the JSON object

*Notes & Assumptions:*
 * Relevant Confluence Page:
 ** [https://confluence.kohls.com:8443/display/OE/OMO-2121%3A+Decide+Kafka+topic+and+format+EFC+ACL+will+consume+from+for+EFC+processing] 
 * Original Spike:
 ** https://jiradc.kohls.com:8443/browse/OMO-2121

- Section 9.4: OMO-2144 - Store Fulfillment: upon Shipment Creation, create new EFC Shipment object and log it

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2144, Ship to Home Phase 5

- Description
*As* Store Fulfillment
*I want to* build a new EFC Shipment object incorporating data from it's Order object
 * *And* log the contents to the console (for testing purposes)
**

*So that* we have a message that we can publish for the EFC ACL to send to the EFCs

*Acceptance Criteria 1:*
 * *When* a shipment is created in Store Fulfillment
 * *Then* we want to see a JSON log of the object we will publish (in another story) for EFC ACL to consume

*Notes & Assumptions:*
 * You will need data from Order Create to create this object
 * Relevant Confluence Page:
 ** [https://confluence.kohls.com:8443/display/OE/OMO-2121%3A+Decide+Kafka+topic+and+format+EFC+ACL+will+consume+from+for+EFC+processing] 
 ** Json structure can be found here
 ** We will be focusing on the green fields for EFC6 only for now
 * Original Spike:
 ** https://jiradc.kohls.com:8443/browse/OMO-2121

- Section 9.5: OMO-2143 - Create new Kafka topic 'OLM_EFC_SHIPMENT_CREATED' in Review/Staging/Prod

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2143, Ship to Home Phase 5

- Description
*As* OLM
*I want to* create the new Kafka topic 'OLM_EFC_SHIPMENT_CREATED' in Review/Staging/Prod
*So that* Store Fulfillment will be able to publish to it for S2H orders

*Acceptance Criteria 1:*
 * *When* we look at our OLM Kafka clusters in Review/Staging/Prod
 * *Then* we should see OLM_EFC_SHIPMENT_CREATED there

*Acceptance Criteria 2:*
 * *When* Store Fulfillment tries to publish to OLM_EFC_SHIPMENT_CREATED in Review/Staging/Prod
 * *Then* it should succeed

*Notes & Assumptions:*
 * Original Spike:
 ** https://jiradc.kohls.com:8443/browse/OMO-2121
 * Relevant Confluence Page:
 ** [https://confluence.kohls.com:8443/display/OE/OMO-2121%3A+Decide+Kafka+topic+and+format+EFC+ACL+will+consume+from+for+EFC+processing]

- Section 9.6: OMO-2141 - Investigate changes to SOS for s2h shipments and orders

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2141, Ship to Home Phase 5

- Description
*As* the owner of shipment and order data
*I want to* Investigate changes to SOS for s2h shipments and orders
*Because* we need to supply shipment/order data to SOS correctly

*This spike is ready for acceptance when:*
 # Do EFC shipments/orders use SOS?
 # Are any changes needed for SOS Feeder to handle EFC orders/shipments? (This may be a question for Hima about how OMS functions today)
 # Create a confluence page for findings
 # Create follow up spikes/stories in needed

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/OMO-2128+Exploring+Shipment+Creation+for+S2H] -spike with details on story
 * [https://docs.google.com/spreadsheets/d/1vuWfIuc2lvYOAtBIpS6lTHZOid5Ti0F_0v0VgZiEb4o/edit#gid=1062918506] The mster document for all of our other EDA/Order data publishing work

- Section 9.7: OMO-2140 - Investigate changes to EDA for s2h shipments and orders

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2140, Ship to Home Phase 5

- Description
*As* the owner of shipment and order data
*I want to* Investigate changes to EDA for s2h shipments and orders
*Because* we need to supply shipment/order data to EDA correctly

*This spike is ready for acceptance when:*
 # Understand our role in supplying shipment/order data to EDA

 ## This can just be as simple as getting the ball moving with a meeting with EDA
 # Understand which 'actions' we need to emulate for EFC s2h orders 
 # Create a confluence page for findings
 # Create follow up spikes/stories in needed

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/OMO-2128+Exploring+Shipment+Creation+for+S2H] -spike with details on story
 * [https://docs.google.com/spreadsheets/d/1vuWfIuc2lvYOAtBIpS6lTHZOid5Ti0F_0v0VgZiEb4o/edit#gid=1062918506] The mster document for all of our other EDA/Order data publishing work

- Section 9.8: OMO-2139 - Add filtering to BOPUS APIs to only allow BOPUS shipments

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2139, Ship to Home Phase 5

- Description
*As* the Store Fulfillment microservice
*I want to* Add filtering to BOPUS APIs to only allow BOPUS shipments
*So that* we safeguard our BOPUS APIs from EFC shipments

*Acceptance Criteria 1:*
 * *The following APIs should not work for EFC shipments:*
 ** View Hold Location
 ** ShipmentsForPick
 ** ShipmentSummary
 * *this can be done a few ways, either by only allowing BOPUS shipments, or a status filter, or by NOT allowing EFC shipments on those endpoints

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/OMO-2128+Exploring+Shipment+Creation+for+S2H] -spike with details on story

- Section 9.9: OMO-2138 - REST endpoints for S2H emails - 

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2138, Ship to Home Phase 5

- Description
*As OLM,*

*I want to reach out to customer communication team*

*so that they can start work on endpoints for S2H emails*
 * *Two emails -* CompleteShipmentEmail and PartialShipmentEmail
 * Any other emails that OMSe sends today

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/S2H+Emails]

- Section 9.10: OMO-2137 - Enable EFC6 Shipment Creation in Store Fulfillment

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: created, story, child, OMO-2137, Ship to Home Phase 5

- Description
*As* the Store Fulfillment microservice
*I want to* Enable EFC6 Shipment Creation
*So that* we can continue downstream processing of s2h shipments

*Acceptance Criteria 1:*
 * *Given* a SLSQ order with an orderLine for EFC6
 * *When* store fulfillment consumes the message from OLM_ORDER_CREATED
 * *Then* a shipment should be created for that orderLine
 * *And* the Location Data Service call should be skipped
 * *And* expectedShipmentDate and expirationDate calculations should be skipped (can be null)
 * *And* the initial status should be SENT_TO_WMOS
 * *And* Messages and published to OLM_SHIPMENT_STATUS and the GIV topic (like we do for BOPUS)

*Acceptance Criteria 2:*
 * *Given* a SLSQ shipment for EFC6
 * *When* the shipment is created and the status for SENT_TO_WMOS is published to OLM_SHIPMENT_STATUS
 * *Then* Order Status is also updated accordingly

*Acceptance Criteria 3:*
 * *Given* a MLMQ BOPUS Order is created
 * *When* the shipment(s) are created
 * *Then* shipments should be created, with no impact from this story

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/OMO-2128+Exploring+Shipment+Creation+for+S2H] -spike with details on story
 * Do not worry about orders that have mixed orderLines (both EFC and BOPUS orderLines together)
 * Do not worry about the message publish to EFC ACL
 * Do not worry about validation of the messages we publish downstream

- Section 9.11: OMO-2136 - S2H orders - shipment status change based on shipment confirmation

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: shipment, story, child, OMO-2136, Ship to Home Phase 5

- Description
*As* service that creates shipment for S2H orders
*I want*  to calculate order and shipment status on shipment confirmation
*So that* shipment status reflect correct stage of S2H order

*Acceptance Criteria:*
 * When shipment confirmation request comes in evaluate order/shipment status based on following conditions
 ** If all shipmentLines are fully fulfilled (evaluate based on quantity )
 *** Set shipmentstatus history as SHIPPED 
 *** publish to OLM_SHIPMENT_STATUS shipment details with status as SHIPPED 
 *** Verify OrderStatus line status is SHIPPED
 *** publish shipment to OLM_SHIPMENT_FULFILLED
 * 
 ** if shipmentLines are partially fulfilled(evaluate based on quantity)
 *** Set shipmentstatus history as SHIPPED 
 *** publish to OLM_SHIPMENT_STATUS shipment details with status as SHIPPED 
 *** Verify OrderStatus line status as SHIPPED/CANCELLED based on shipmentline quantities
 *** publish shipment to OLM_SHIPMENT_CANCELLED
 ** if shipmentLines are fully cancelled(evaluate based on quantity)
 *** Set shipmentstatus history as CANCELLED 
 *** publish to OLM_SHIPMENT_STATUS shipment details with status as CANCELLED 
 *** Verify OrderStatus line status as CANCELLED based on shipmentline quantities
 *** publish shipment to OLM_SHIPMENT_CANCELLED
 * {color:#de350b}On cancellations we generate few emails for BOPUS those are not relevant for S2H orders?? {color}
 *  Sample shipment confirmation request multiline request - 
[https://confluence.kohls.com:8443/display/OE/OMO-2124+-+Investigate+Shipment+Confirmation+API]

 

Notes & Assumptions:
 # Partial Cancellation will be handled later and only SLSQ fulfillment will be in scope 

- Section 9.12: OMO-2133 - Shipment cancellation request from EFC 6 for S2H orders

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2133, Ship to Home Phase 5

- Description
*As* service that creates shipment for S2H orders (should be Store Fulfillment for now)
*I want*  a new REST endpoint that does shipment cancellation 
*So that* when EFC 6 does shipment cancellation we reflect cancellation in nOLM S2H orders

*Acceptance Criteria:*
 * Create an endpoint in the service that supports shipment cancellation for  S2H nOLM orders 
 * Based on the request coming in update shipmentLines as cancelled(shipmentLine pickedQuantity = zero)
 * Same endpoint should work for singleLine as well multiLine S2H orders
 * Sample shipment cancellation request multiline request - 
[https://confluence.kohls.com:8443/display/OE/OMO-2124+-+Investigate+Shipment+Confirmation+API]

- Section 9.13: OMO-2132 - Update shipment with container details for  S2H orders

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2132, Ship to Home Phase 5

- Description
*As* service that creates shipment for S2H orders (should be Store Fulfillment for now)
*I want*  a new REST endpoint that updates container details 
*So that* when EFC confirms the shipments we update corresponding shipmentLines with container details, tracking number etc

*Acceptance Criteria:*
 * Create an endpoint in the service that creates S2H orders 
 * Based on the request coming in update shipmentLines with container details
 * Same endpoint should work for singleLine as well multiLine S2H orders
 * Sample shipment confirmation multiline request - 
[https://confluence.kohls.com:8443/display/OE/OMO-2124+-+Investigate+Shipment+Confirmation+API]

- Section 9.14: OMO-2131 - Usage of ExtnIsShipAlone indicator in shipment confirmation api request

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2131, Ship to Home Phase 5

- Description
As OLM,

I want to Investigate the usage of ExtnIsShipAlone and ExtnPickTicketNo in shipment confirmation request,

so that we understand how to handle ship alone orders.

*This spike is ready for acceptance when:*
 # We document the usage of ExtnIsShipAlone and ExtnPickTicketNo in shipment confirmation request.
 # We details any impacts on shipment creation.

*Notes & Assumptions:*
 * Shipment confirmation api details - [https://confluence.kohls.com:8443/display/OE/OMO-2124+-+Investigate+Shipment+Confirmation+API]

- Section 9.15: OMO-2130 - Investigate if current message OLM sends to GIV for demand/supply for Created status will work for EFC shipments

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2130, Ship to Home Phase 5

- Description
*As* the owner of EFC shipments
*I want to* Investigate if current message OLM sends to GIV for demand/supply for Created status will work for EFC shipments
*Because* we need to correctly update GIV with supply/demand updates

*This spike is ready for acceptance when:*
 # Reach out to Inventory Manangement to understand if the message we currently send for BOPUS Created status is the same as EFC created status. 
 # If not, create a story to make sure we publish the correct message

*Notes & Assumptions:*
 * This comes out of the work from: https://jiradc.kohls.com:8443/browse/OMO-2128
 * Miro reference: [https://miro.com/app/board/uXjVPjzxRLY=/?moveToWidget=3458764576105865031&cot=14] (not really needed for this spike though)

- Section 9.16: OMO-2128 - Exploring Shipment Creation for S2H

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2128, Ship to Home Phase 5

- Description
*As* a member of the OLM team,
*I want to* explore and understand the process of creating shipments in OLM for S2H, focusing on the integration with the Create Order Topic and new attributes,
*Because* this knowledge is important for implementing S2H shipments

*We'll know that we're done with this spike when:*
 * The process for creating shipments in OLM for S2H is clearly understood, especially regarding new feature integration.
 * Potential challenges and solutions for implementing this process are identified and documented.
 * Create spikes and stories that follow

Notes:
 * We can be iterative with this, we don't need to understand every field that a EFC6 shipment needs for downstream processing to be able to create a EFC6 shipment

- Section 9.17: OMO-2124 - Investigate Shipment Confirmation API

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: api, spike, child, OMO-2124, Ship to Home Phase 5

- Description
*As* the boundary between the Order domain and the domain of Customer Fulfillment
*I want to* Investigate the Shipment Confirmation API
*Because* we need to understand this integration before shipments can be invoiced

*This spike is ready for acceptance when:*
 # We build a spreadsheet documenting the request and response of the Shipment Confirmation API: expected values, required fields, error codes, etc{*}{{*}}
 # We understand and document its functionality at a high level for both confirmations and cancellation
 # We understand the channel in which this call happens today (We have been told that this is done via API for some EFCs and MQ for others)
 ## On a high level, get an understanding on if Customer Fulfillment has the bandwidth to switch from MQ to API for the other EFCs
 # -If one exists, find the WSDL for this API-
 # Create the following follow up stories:
 ## Store Fulfillment to support the shipment confirmation functionality (this can be a few spikes/stories, we can keep this iterative like we did with BOPUS APIs-basic happy path first, then error codes, then understanding cancel flows)
 ## EFC ACL to support routing Shipment Confirmation calls to either OMS or OLM (this can be a couple stories too if it seems too big to have all at once)

*Notes & Assumptions:*
 * [https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0] Link to boundary request mapping
 * Master Miro Reference: [https://miro.com/app/board/uXjVPjzxRLY=/?moveToWidget=3458764575833473448&cot=14] 

- Section 9.18: OMO-2123 - Create empty EFC ACL application

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2123, Ship to Home Phase 5

- Description
*As* the EFC ACL
*I want to* Create a new empty EFC ACL application
*So that* we can begin the interface between our internal Order domain and Customer Fulfillment's domain

*Acceptance Criteria 1:*
 * *Create* an empty application, using one of our existing applications as a reference
 ** Has all of the normal features: KADO, Java 21, deploys to review/staging/prod, runs locally, connects to our config server
 * EFC ACL is more of a description of the application, not the official, agreed upon, name. When naming the application, include ACL in the title (like order-acl and store-commerce-acl have), to make it clear this is a boundary application that we have hopes of eventually retiring once all orders are onto nOLM
 ** customer-fulfillment-acl
 ** efc-acl
 ** ship-to-home-acl (If it isn't clear, I am not good at naming things)

*Notes & Assumptions:*
 * [https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0] Link to boundary request mapping
 * Master Miro Reference: [https://miro.com/app/board/uXjVPjzxRLY=/?moveToWidget=3458764575833473448&cot=14] 

- Section 9.19: OMO-2122 - Get EFC6 Kafka Connection Details for all Appropriate Environments

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2122, Ship to Home Phase 5

- Description
*As* the boundary between OLM and Customer Fulfillment
*I want to* Get EFC6 Connection Details for all Appropriate Environments
*Because* we need to publish to this topic

*This spike is ready for acceptance when:*
 # We work with the Customer Fulfillment Team to get all required connection details to connect to the Kafka topic used by EFC6 (dev/staging/prod)
 # We document this information somewhere for future stories

*Notes & Assumptions:*
 * [https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0] Link to boundary request mapping
 * Master Miro Reference: [https://miro.com/app/board/uXjVPjzxRLY=/?moveToWidget=3458764575833473448&cot=14] 
 * Kafka Topic name is: *of_release_order_kafka*

- Section 9.20: OMO-2121 - Decide Kafka topic and format EFC ACL will consume from for EFC processing

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: efc, spike, child, OMO-2121, Ship to Home Phase 5

- Description
*As* the boundary between Store Fulfillment and the EFC ACL
*I want to* Decide Kafka topic and format EFC ACL will consume from for EFC processing
*Because* we need to determine if we need a new topic or use an existing one for EFC processing

*This spike is ready for acceptance when:*
 # We decide if there is an existing topic/message we can utilize that Store Fulfillment publishes to, that the EFC ACL can consume from to send messages to the EFCs
 ## Consider the following:
 ### Will we need to make a call back to Order Create or Store Fulfillment for Order/Shipment information ([https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0)]
 ### Would error retries on this existing topic cause any issues by current consumers
 ### WIll the EFC ACL have to do filtering on the messages published to this topic? If so, do we think the filtering will impact performance?
 # If there is not a topic yet, we propose a name for the new topic that would interface between Store Fulfillment and the EFC ACL and propose the message structure too
 # Create a story for Store Fulfillment to publish to the new topic (if applicable), and EFC ACL to consume from whatever topic is chosen.

*Notes & Assumptions:*
 * It should be considered that the EFC ACL will eventually go away, and this topic could serve as a more direct interface between SF and Customer Fulfillment
 * This message publish would occur during shipment creation, so consider the fact that we already call Order Create for shipment creation, and may be able to utilize those fields when publishing this message
 * [https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0] Link to boundary request mapping
 * Master Miro Reference: [https://miro.com/app/board/uXjVPjzxRLY=/?moveToWidget=3458764575833473448&cot=14] 

- Section 9.21: OMO-2117 - Investigate Red/Yellow fields for EFC6 Mapping

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2117, Ship to Home Phase 5

- Description
*As* the owner of ship 2 home orders
*I want to* Investigate Red/Yellow fields for EFC6 Mapping
*Because* we need to publish data to EFC6

*This spike is ready for acceptance when:*
 # Work with OMS and/or Customer Fulfillment to understand red/yellow fields required by EFC6:
 ## priority
 ## releaseNo
 ## extnPickTicketNo
 ## extnRG
 ## extnWMSInstType
 ## itemDesc
 # Based on 1. create up to two stories:
 ## story for providing the yellow/red fields that we should own internally
 ## story to have our EFC ACL application handle any fields we should not be the owner of

*Notes & Assumptions:*
 * Document with list of required red/yellow fields for EFC6: https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0

- Section 9.22: OMO-2107 - Understand the message that goes to all EFCs

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2107, Ship to Home Phase 5

- Description
*We should* analyze all the messages that goes to all EFCs
*Because* we want to identify a consistent way to send order message to all EFCs.

*We are done when* 
 # Differences are identified and documented
 # A design approach is proposed on how we would send the messages to all EFCs regardless of the version of the warehouse management system. e.g. Do we want to move existing from XML to Json format? Do we need to build a ACL to do the conversion? Do we need to work with Customer Fulfillment about providing information that isn't our domain (Item data via PICs)

Notes:

1. This spike isn't about understanding a full mapping for each EFC between OMS and EFCs, it is focused on commonality in message structure and format

- Section 9.23: OMO-2091 - Understand changes to populating OverallTotals for Ship To Home orders

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2091, Ship to Home Phase 5

- Description
*As* the OLM team
*I want to* verify if we need to change how we populate our fields within OverallTotals on the Order model
*Because* we need to find necessary changes to take on STH orders.

*This spike is ready for acceptance when:*
 # We have clarity on the calculations for OverallTotals for ship to home orders
 # If work is small, make changes so overallTotals is working with a STH order

*Notes & Assumptions:*
 * [https://confluence.kohls.com:8443/display/OE/OMO-1975%3A+EFC+Post-Cancellation+GIV+Interactions] – page for EFC information like shipNode.
 * Currently there are several fields in OverallTotals that stay set to 0, still spike is to identify if we finally need to add calculation logic for some of these currently zeroed out fields
 * The OTS OrderDetails call would be a good mechanism to understand how Sterling populates OverallTotals for s2h, as most/all of those fields are exposed on that endpoint

- Section 9.24: OMO-2088 - Understanding Mapping for EFC6 with Customer Fulfillment

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2088, Ship to Home Phase 5

- Description
*As the* OLM system,

*I want to* understand the mapping process for EFC6 with Customer Fulfillment,

*because* it is crucial to have seamless integration for fulling S2H orders

 

*This spike is ready for acceptance when:*
 # We have a clear understanding of how EFC6 interfaces with the Customer Fulfillment system.
 # A detailed mapping of the data flow and processes between EFC6 and Customer Fulfillment has been documented.

- Section 9.25: OMO-2062 - Research Existing Checkout team integration with TVS

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2062, Ship to Home Phase 5

- Description
*As* the OLM system,

*I want to* investigate the Checkout team's method for TVS calls during repricing,

*Because* we need to understand their process to create a direct TVS integration without splitting order lines.

*Acceptance Criteria:*
 # Understand the Checkout team's method for TVS calls.
 # Identify why they split order lines.
 # Propose a direct TVS call method avoiding line splits.

*Notes:*
 * Aim to simplify our process.
 * Work with the Checkout team for insights.
 * Document findings.
 

- Section 9.26: OMO-2053 - Handling Earned KC Values in S2H Orders

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2053, Ship to Home Phase 5

- Description
*As an* OLM Engineer,
*I want to* correctly capture earned KC values in S2H orders,
*So that* customers receive accurate invoices

*Acceptance Criteria 1:*
 * *Given* a S2H order is processed without the earned KC value,
 * *When* a second message with earned KC information arrives,
 * *Then* the OLM system should combine this data to complete the order invoice.

*Acceptance Criteria 2:*
 * *Given* both the initial S2H order and the earned KC information are received,
 * *When* these are processed by OLM,
 * *Then* the invoice should accurately reflect the earned KC.

*Notes:*
 * Need to confirm with Chinmaya regarding the separate KC value message for S2H orders.
 * Coordination with the Checkout team might be necessary for message handling.

- Section 9.27: OMO-2048 - Integrate with Other EFCs (Phase X)

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2048, Ship to Home Phase 5

- Description
*As the OLM Sourcing Facade,*

*I want to* integrate with other EFCs,

*So that* I can fulfill orders from multiple EFCs effectively.

*Acceptance Criteria 1:*

*Given* the OLM Sourcing Facade is operational,

*When* it receives an order,

*Then* it should be able to select the most suitable EFCs for fulfillment based on current sourcing criteria.

*Notes & Assumptions:*
 * Ensure seamless integration with other EFCs without disrupting existing processes.
 * Coordination with EFCs is essential for consistent fulfillment strategies.

- Section 9.28: OMO-2047 - Develop Scheduler for Auto-Cancelling Orders with Delayed EFC Updates

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2047, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM system,
*I want to* build a scheduler that automatically cancels orders if there are no updates from EFC after a specified number of days,
*So that* the system remains efficient and responsive to delays.

*Acceptance Criteria 1:*
*Given* an order has not received any updates from EFC within the specified timeframe,
*When* this time limit is reached,
*Then* the scheduler should automatically initiate cancellation of the order.

*Acceptance Criteria 2:*
*Given* the scheduler is operational,
*When* it detects an order eligible for cancellation,
*Then* it should process the cancellation and update the order status accordingly.

*Notes & Assumptions:*
 * The timeframe for awaiting updates (x days) should be determined based on average processing times and customer service standards.
 * The scheduler should be robust and reliable, ensuring no false cancellations occur.

- Section 9.29: OMO-2046 - Identifying Automatic Order Cancellation After Delayed Updates from EFC

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2046, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM system,
*I want to* identify a method to automatically cancel orders after a certain number of days if no updates are received from EFC,
*Because* timely updates are crucial, and long delays need a response.

*This spike is ready for acceptance when:*
 * *We have a clear strategy* for automatically cancelling orders that lack updates from EFC after a specified time.
 * *We have documented* the triggers and conditions when these cancellations occur.

*Notes & Assumptions:*
 * The time frame for awaiting updates from EFC before triggering cancellation needs to be reasonable and aligned with customer expectations.
 * Ensure that the mechanism for this process is reliable and integrates smoothly with the existing OLM system.

- Section 9.30: OMO-2045 - Enhance Cancel Shipment Processor for EFC Confirmations

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2045, Ship to Home Phase 5

- Description
*Description:*
*As the* Cancel Shipment Processor,
*I want to* receive and process shipment cancellation confirmations from EFC,
*So that* I can keep the order status up to date and manage cancellations accurately.

*Acceptance Criteria 1:*
*Given* a cancellation confirmation is received from EFC,
*When* this information is processed,
*Then* I should accurately update the order's cancellation status.

*Acceptance Criteria 2:*
*Given* the order status needs to be updated,
*When* I process the EFC confirmation,
*Then* it should ensure the system reflects the correct current status of the order.

*Notes & Assumptions:*
 * The process should be prompt to avoid any discrepancies in order status.
 * The updates should be accurately reflected across the system for consistency.

- Section 9.31: OMO-2043 - XML Converter Update for EFC6 Orders

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: story, child, OMO-2043, Ship to Home Phase 5

- Description
*As the* OLM team,
*I want to* explore how the XML Converter should be updated for EFC6,
*So that* it converts any new entities or attributes in existing entities correctly

*Acceptance:*
 * Make changes for handling STH Orders:
 ** Hardcode shipNode to EFC6's shipNode (849)
 ** Set fulfillmentMethod to STH when not Bopus or VGC
 * Clarify these changes with STH fulfillment as it relates to EFC6 (if this is applicable to the specific values for EFCs)

- Section 9.32: OMO-2042 - VGC Activator Review for EFC6 Compatibility

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2042, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* assess the VGC Activator's functionality with EFC6 orders,
*So that* it activates gift cards effectively in this context.

*Acceptance:*
 * Document changes needed for the VGC Activator in the EFC6 setup.
 * Describe how it integrates with EFC6 order processing.

- Section 9.33: OMO-2041 - Enhancing Store Fulfillment for EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2041, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* determine what needs to change in Store Fulfillment for EFC6 orders,
*So that* store-based fulfillment aligns with EFC6 needs.

*Acceptance:*
 * Identify adjustments for the Store Fulfillment service for EFC6 order handling.
 * Clarify its operational role with EFC6.
 * Create any follow-up stories or spikes

- Section 9.34: OMO-2040 - Store Commerce Proxy Adaptation for EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2040, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* figure out changes for the Store Commerce Proxy with EFC6 orders,
*So that* it facilitates smooth EFC6 transactions.

*Acceptance:*
 * List required modifications for the Store Commerce Proxy in the EFC6 environment.
 * Explain how it functions with EFC6 order processing.

- Section 9.35: OMO-2039 - Store Commerce ACL Alignment with EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2039, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* identify how the Store Commerce ACL should be tailored for EFC6,
*So that* it supports EFC6 orders effectively.

*Acceptance:*
 * Write down necessary updates for the Store Commerce ACL in EFC6 scenarios.
 * Describe its role in EFC6 order management.

- Section 9.36: OMO-2038 - Shipment Fulfillment Processor Update for EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2038, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* explore adjustments needed in the Shipment Fulfillment Processor for EFC6,
*So that* it processes EFC6 shipments.

*Acceptance:*
 * Document changes for handling EFC6 shipments in the Shipment Fulfillment Processor.
 * Clarify its integration with EFC6 fulfillment.

- Section 9.37: OMO-2037 - Order Create Process Review for EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2037, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* assess the Order Create microservice for updates with EFC6 orders,
*So that* order creation aligns with EFC6's requirements.

*Acceptance:*
 * Detail necessary changes for creating orders in the EFC6 framework.
 * Explain how it interacts with the EFC6 fulfillment process.

*Notes:*
 # Link to the STH flow
 # Contacts for the customer fulfillment team: [~TKA02PE] (PM)

- Section 9.38: OMO-2036 - Updating OLM Payment Cancel for EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2036, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* determine how the OLM Payment Cancel needs to be modified for EFC6 orders,
*So that* payment cancellations are handled correctly.

*Acceptance:*
 * List changes for the OLM Payment Cancel service in the context of EFC6.
 * Describe its function in the EFC6 payment process.

- Section 9.39: OMO-2035 - OLM Gateway Compatibility with EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2035, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* identify necessary changes in the OLM Gateway for EFC6 integration,
*So that* it functions smoothly with EFC6 order handling.

*Acceptance:*
 * Outline needed updates for the OLM Gateway in the EFC6 setup.
 * Clarify its role in managing EFC6 orders.

- Section 9.40: OMO-2034 - Adapting Invoice for EFC6 Orders

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2034, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* identify updates needed in the Invoice microservice for EFC6 order processing,
*So that* invoicing is accurate and timely for these orders.

*Acceptance:*
 * Document required modifications for EFC6-related invoicing.
 * Explain how it will integrate with the EFC6 order process.

- Section 9.41: OMO-2033 - Tailoring Hard Totals for EFC6 Order Processing

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2033, Ship to Home Phase 5

- Description
*As the* OLM team,
*I want to* pinpoint what needs to be changed in Hard Totals for EFC6 orders,
*So that* all calculations remain accurate.

*Acceptance:*
 * Identify adjustments for accurate total calculations in EFC6 orders.
 * Describe how it will work with EFC6's order system.

- Section 9.42: OMO-2032 - Checking Expire Shipment Processor with EFC6

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2032, Ship to Home Phase 5

- Description
*As the* OLM team,
*I want to* figure out changes for the Expire Shipment Processor in the EFC6 context,
*So that* it handles order expirations correctly.

*Acceptance:*
 * Write down changes for managing EFC6 order expirations.
 * Clarify its integration with EFC6's fulfillment process.

- Section 9.43: OMO-2031 - Error Reprocessor's Readiness for EFC6 Orders

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2031, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM team,
*I want to* evaluate the Error Reprocessor with EFC6 orders,
*So that* any reprocessing is done without issues.

*Acceptance:*
 * Ensure it reprocesses EFC6 order errors effectively.
 * Pinpoint areas for enhancement.

- Section 9.44: OMO-2030 - Error Consumer Effectiveness in EFC6-Integrated Environment

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2030, Ship to Home Phase 5

- Description
*As the* OLM development team,
*I want to* evaluate the Error Consumer microservice within the context of EFC6 integration,
*Because* robust error handling is necessary for the smooth operation of limited order processing.

*This spike is ready for acceptance when:*
 * *We have assessed* the Error Consumer's capability to manage errors in an EFC6-centric workflow.
 * *We have documented* any modifications needed to ensure its effectiveness.

- Section 9.45: OMO-2029 - Customer Notification Compatibility with EFC6 Order Processing

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2029, Ship to Home Phase 5

- Description
*Description:*
*As the* OLM development team,
*I want to* assess the Customer Notification microservice for compatibility with EFC6 order processing,
*Because* it's essential to maintain effective customer communication during limited order fulfillment.

*This spike is ready for acceptance when:*
 * *We ensure* the Customer Notification system functions correctly with the order flow involving EFC6.
 * *We identify* any adjustments needed for working with the new fulfillment process.

- Section 9.46: OMO-2028 - Alignment of Cancel Shipment Processor with EFC6 Fulfillment

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-2028, Ship to Home Phase 5

- Description
*As the* OLM development team,
*I want to* make sure the Cancel Shipment Processor microservice aligns with EFC6's fulfillment processes,
*Because* accurate cancellation processing is critical when using OLM to fulfill limited orders from EFC6.

*This spike is ready for acceptance when:*
 * *We have verified* that the Cancel Shipment Processor can handle cancellations without re-sourcing or significant customer impact.
 * *We have outlined* any necessary updates to integrate seamlessly with EFC6.

- Section 9.47: OMO-2027 - Integration with EFC6

- Introduction:
This is a child story of epic OMO-2008, "Ship to Home Phase 5"

keywords are: efc6, story, child, OMO-2027, Ship to Home Phase 5

- Description
*Description:*

*As the* EFC ACL,

*I want to* integrate with EFC6,

*So that* we can efficiently manage and process these orders within the set capacity.

 

*Acceptance Criteria 1:*

*Given* a shipment is identified for EFC6 fulfillment,

*When* it is sent to the EFC ACL,

*Then* the message should be converted into the XML format expected by EFC6* (see note)

 

*Acceptance Criteria 2:*

*Given* a shipment is sent to the EFC ACL,

*After* it is converted to the expected XML format

*And* a newly added feature flag disables publishing to EFCs**

*Then* no message should be published to the kafka topic for EFC6 (we want prod to be like this for now)

 

*Acceptance Criteria 3:*

*Given* a shipment is sent to the EFC ACL,

*After* it is converted to the expected XML format

*And* a newly added feature flag is enabled, but *does not* list publishing to EFC6**

*Then* no message should be published to the kafka topic for EFC6

 

*Acceptance Criteria 4:*

*Given* a shipment is sent to the EFC ACL,

*After* it is converted to the expected XML format

*And* a newly added feature flag is enabled, and *does* list publishing to EFC6**

*Then* a message should be published to the kafka topic for EFC6 (we want staging like this for now)

*Notes & Assumptions:*
 * Validations on the Customer Fulfillment side is not in scope for this story
 * https://jiradc.kohls.com:8443/browse/OMO-2122 should be done before working on this, it will have connection details
 * This also cannot be worked on until we have an EFC ACL, with messages being published to it from our core OLM system
 * *Use this doc to find 'green fields' required for EFC6 [https://docs.google.com/spreadsheets/d/1LZ7nvTMLnTweTssJO_BHVqU4pk31ZgmdlwlzPexuSZo/edit#gid=0]
 * **The idea is to have something similar to the skip-repricing feature flag found on order create, where not only can you enable/disable the feature, you can also enable it for specific EFCs (for now EFC6)

- Section 9.48: OMO-1989 - Assess Feasibility of 30-Min Grace Period in OLM

- Introduction:
This is a child spike of epic OMO-2008, "Ship to Home Phase 5"

keywords are: spike, child, OMO-1989, Ship to Home Phase 5

- Description
*As an OLM Engineer,*

*I want to* review the Self Service use case,

*So that* I can understand the feasibility of moving the 30-minute grace period from Checkout to OLM.

{*}Acceptance Criteria{*}:
 * *Given* the current implementation of the 30-minute grace period in the Checkout system,
 * *When* reviewing the Self Service use case,
 * *Then* assess the technical feasibility of integrating this grace period into OLM.

{*}Notes & Assumptions{*}:
 * The review should consider the technical implications and challenges.
 * We should work with the Checkout team to maintain customer experience and order processing
 * We should understand at a high level what other downstream integrations are impacted assuming control of this grace period


